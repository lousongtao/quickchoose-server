{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "MaintainController"
    },
    "designerId": "0c14d741-d183-4c95-8d0b-9c15cffa8787",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#deskListContainer #btnAdd",
                "designer|targetType": "Ext.button.Button",
                "fn": "onAddDeskButtonClick",
                "implHandler": [
                    "var grid = this.getDeskListContainer().down('grid');\r",
                    "var values = {\r",
                    "    userId : Ext.util.Cookies.get(\"userId\"),\r",
                    "    sessionId : Ext.util.Cookies.get(\"sessionId\")\r",
                    "};\r",
                    "button.up('form').submit({\r",
                    "    url: \"common/adddesk\",\r",
                    "    params : values,\r",
                    "    success: function(form, action){\r",
                    "        var result = action.result;\r",
                    "\r",
                    "        if(action.result.result =='ok'){\r",
                    "            Ext.Msg.alert(\"SUCCESS\",\"Create desk successfully.\");\r",
                    "            grid.store.load();\r",
                    "            button.up('form').down('#txtName').setValue('');\r",
                    "        } else if (action.result.result =='invalid_session'){\r",
                    "            digitalmenu.getApplication().onSessionExpired();\r",
                    "        } else {\r",
                    "            Ext.Msg.alert('Failed',\"Failed to create desk.\", action.result.result);\r",
                    "        }\r",
                    "    },\r",
                    "    failure: function(form, action){\r",
                    "        Ext.Msg.alert('Failed',\"Failed to create desk.\", action.result.result);\r",
                    "    }\r",
                    "});"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "90497a32-9b6f-4961-8b2d-f89d6788fbfe"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#deskListContainer #btnCancel",
                "designer|targetType": "Ext.button.Button",
                "fn": "onCancelDeskButtonClick",
                "implHandler": [
                    "button.up('form').down('#txtName').setValue('');"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "c28e3335-04dc-4c4c-8bb4-d756b2a52d7b"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#printerListContainer #btnAdd",
                "designer|targetType": "Ext.button.Button",
                "fn": "onAddPrinterButtonClick",
                "implHandler": [
                    "var grid = this.getPrinterListContainer().down('grid');\r",
                    "var values = {\r",
                    "    userId : Ext.util.Cookies.get(\"userId\"),\r",
                    "    sessionId : Ext.util.Cookies.get(\"sessionId\")\r",
                    "};\r",
                    "button.up('form').submit({\r",
                    "    url: \"common/addprinter\",\r",
                    "    params : values,\r",
                    "    success: function(form, action){\r",
                    "        var result = action.result;\r",
                    "\r",
                    "        if(action.result.result =='ok'){\r",
                    "            Ext.Msg.alert(\"SUCCESS\",\"Add printer successfully.\");\r",
                    "            grid.store.load();\r",
                    "            button.up('form').down('#tfName').setValue('');\r",
                    "            button.up('form').down('#tfIPAddress').setValue('');\r",
                    "        } else if (action.result.result =='invalid_session'){\r",
                    "            digitalmenu.getApplication().onSessionExpired();\r",
                    "        } else {\r",
                    "            Ext.Msg.alert('Failed',\"Failed to add printer.\", action.result.result);\r",
                    "        }\r",
                    "    },\r",
                    "    failure: function(form, action){\r",
                    "        Ext.Msg.alert('Failed',\"Failed to add printer.\", action.result.result);\r",
                    "    }\r",
                    "});"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "b8c28384-54f7-429c-b482-ebebefc10a4e"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#printerListContainer #btnCancel",
                "designer|targetType": "Ext.button.Button",
                "fn": "onCancelPrinterButtonClick",
                "implHandler": [
                    "button.up('form').down('#tfName').setValue('');\r",
                    "button.up('form').down('#tfIPAddress').setValue('');"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "69b918a4-bcce-4b4f-af2b-b386b5b1c6e1"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "deskListContainer",
                "selector": "#deskListContainer"
            },
            "designerId": "e42f9ebb-145b-4665-8b1c-80b731a98f96"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "printerListContainer",
                "selector": "#printerListContainer"
            },
            "designerId": "d7af81fc-5416-4d06-972d-1fe3bf40e82d"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "discountTemplateContainer",
                "selector": "#discountTempListContainer"
            },
            "designerId": "0e1b6c08-501e-4997-a8b2-93a25e6aa4da"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#discountTempListContainer #btnAdd",
                "designer|targetType": "Ext.button.Button",
                "fn": "onAddDiscountTemplateButtonClick",
                "implHandler": [
                    "var grid = this.getDiscountTemplateContainer().down('grid');\r",
                    "var values = {\r",
                    "    userId : Ext.util.Cookies.get(\"userId\")\r",
                    "};\r",
                    "button.up('form').submit({\r",
                    "    url: \"common/adddiscounttemplate\",\r",
                    "    params : values,\r",
                    "    success: function(form, action){\r",
                    "        var result = action.result;\r",
                    "\r",
                    "        if(action.result.result =='ok'){\r",
                    "            Ext.Msg.alert(\"SUCCESS\",\"Add discount template successfully.\");\r",
                    "            grid.store.load();\r",
                    "            button.up('form').down('#tfName').setValue('');\r",
                    "            button.up('form').down('#nfRate').setValue(0);\r",
                    "        } else if (action.result.result =='invalid_session'){\r",
                    "            digitalmenu.getApplication().onSessionExpired();\r",
                    "        } else {\r",
                    "            Ext.Msg.alert('Failed',\"Failed to add discount template.\", action.result.result);\r",
                    "        }\r",
                    "    },\r",
                    "    failure: function(form, action){\r",
                    "        Ext.Msg.alert('Failed',\"Failed to add discount template.\", action.result.result);\r",
                    "    }\r",
                    "});"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "62ac10c1-7d48-43ff-9fb9-0df781247f43"
        }
    ]
}